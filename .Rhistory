tips2 <- ddply(tips, .(day), function(x) mean(x$tiprate))
names(tips2)[2] <- 'AverageRating'
View(tips2)
ylab("TipRate")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(classdata)
library(ggplot2)
library(plyr)
data(tips, package="reshape2")
str(tips)
tips$size.factor = as.factor(tips$size)
levels(tips$size.factor)
tips %>% ggplot(aes(x = tip, y = total_bill)) +
geom_point()
tips$tiprate = (tips$tip / tips$total_bill) * 100
tips[tips$tiprate == max(tips$tiprate),]
tips[tips$tiprate == min(tips$tiprate),]
mean(tips$tiprate)
tips1 <- tips %>% group_by(sex, smoker) %>% mutate(groups = paste(sex,smoker,sep=" "))
tips1 %>% ggplot(aes(x = tip, y = total_bill, color = groups)) +
geom_point()
tips %>% ggplot(aes(x = day, fill = sex)) +
geom_bar(position = position_dodge())
tips2 <- ddply(tips, .(day), function(x) mean(x$tiprate))
names(tips2)[2] <- 'AverageRating'
tips2 %>% ggplot(aes(x = day)) +
geom_bar(aes(weight = AverageRating))) +
tips2 %>% ggplot(aes(x = day)) +
geom_bar(aes(weight = AverageRating)) +
ylab("TipRate")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(classdata)
library(ggplot2)
happy %>% ggplot(aes(x= age)) + geom_histogram(binwidth=)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(classdata)
library(ggplot2)
happy <- readRDS("data/happy.rds")
happy[happy == "IAP"] <- NA
happy[happy == "DK"] <- NA
happy[happy == "NA"] <- NA
#another way to do it -> happy = replace(happy, happy == "IAP", NA) {do for each one}
str(happy)
happy$AGE[happy$AGE == "89 OR OLDER"] <- "89"
happy$AGE = as.numeric(happy$AGE)
happy %>% ggplot(aes(x= age)) + geom_histogram(binwidth=)
happy %>% ggplot(aes(x= AGE)) + geom_histogram(binwidth=)
happy <- happy %>% mutate(
AGE = replace(AGE, AGE == "89 AND OLDER", 89),
AGE = as.numeric(AGE)
) %>% select(-AGE)
happy %>% ggplot(aes(x= AGE)) + geom_histogram(binwidth=)
View(happy)
happy <- happy %>% mutate(
age = replace(AGE, AGE == "89 AND OLDER", 89),
age = as.numeric(age)
) %>% select(-AGE)
happy <- happy %>% mutate(
age = replace(AGE, AGE == "89 AND OLDER", 89),
age = as.numeric(age)
) %>% select(-AGE)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(classdata)
library(ggplot2)
happy <- readRDS("data/happy.rds")
happy[happy == "IAP"] <- NA
happy[happy == "DK"] <- NA
happy[happy == "NA"] <- NA
#another way to do it -> happy = replace(happy, happy == "IAP", NA) {do for each one}
str(happy)
happy$AGE[happy$AGE == "89 OR OLDER"] <- "89"
happy$AGE = as.numeric(happy$AGE)
happy <- happy %>% mutate(
age = replace(AGE, AGE == "89 AND OLDER", 89),
age = as.numeric(age)
) %>% select(-AGE)
happy %>% ggplot(aes(x= age)) + geom_histogram(binwidth=)
happy$HAPPY = as.factor(happy$HAPPY)
happy$MARITAL = as.factor(happy$MARITAL)
happy$HEALTH = as.factor(happy$HEALTH)
happy$DEGREE = as.factor(happy$DEGREE)
happy$SEX = as.factor(happy$SEX)
happy$FINRELA = as.factor(happy$FINRELA)
happy$PARTYID = as.factor(happy$PARTYID)
happy = happy %>% mutate(DEGREE = factor(DEGREE, levels = c("LT HIGH SCHOOL","HIGH SCHOOL", "JUNIOR COLLEGE", "GRADUATE",
"BACHELOR"))) %>%
mutate(FINRELA = factor(FINRELA, levels = c("FAR BELOW AVERAGE", "BELOW AVERAGE", "AVERAGE", "ABOVE AVERAGE",
"FAR ABOVE AVERAGE"))) %>%
mutate(HEALTH= factor(HEALTH, levels = c("POOR", "FAIR", "EXCELLENT", "GOOD")))
happy %>% ggplot(aes(x= age)) + geom_histogram(binwidth=1)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(classdata)
library(ggplot2)
happy <- readRDS("data/happy.rds")
happy[happy == "IAP"] <- NA
happy[happy == "DK"] <- NA
happy[happy == "NA"] <- NA
#another way to do it -> happy = replace(happy, happy == "IAP", NA) {do for each one}
happy <- happy %>% mutate(
age = replace(AGE, AGE == "89 AND OLDER", 89),
age = as.numeric(age)
) %>% select(-AGE)
happy$HAPPY = as.factor(happy$HAPPY)
happy$MARITAL = as.factor(happy$MARITAL)
happy$HEALTH = as.factor(happy$HEALTH)
happy$DEGREE = as.factor(happy$DEGREE)
happy$SEX = as.factor(happy$SEX)
happy$FINRELA = as.factor(happy$FINRELA)
happy$PARTYID = as.factor(happy$PARTYID)
happy = happy %>% mutate(DEGREE = factor(DEGREE, levels = c("LT HIGH SCHOOL","HIGH SCHOOL", "JUNIOR COLLEGE", "GRADUATE",
"BACHELOR"))) %>%
mutate(FINRELA = factor(FINRELA, levels = c("FAR BELOW AVERAGE", "BELOW AVERAGE", "AVERAGE", "ABOVE AVERAGE",
"FAR ABOVE AVERAGE"))) %>%
mutate(HEALTH= factor(HEALTH, levels = c("POOR", "FAIR", "EXCELLENT", "GOOD")))
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(classdata)
library(ggplot2)
happy <- readRDS("data/happy.rds")
happy[happy == "IAP"] <- NA
happy[happy == "DK"] <- NA
happy[happy == "NA"] <- NA
#another way to do it -> happy = replace(happy, happy == "IAP", NA) {do for each one}
happy <- happy %>% mutate(
age = replace(AGE, AGE == "89 AND OLDER", 89),
age = as.numeric(age)
) %>% select(-AGE)
happy$HAPPY = as.factor(happy$HAPPY)
happy$MARITAL = as.factor(happy$MARITAL)
happy$HEALTH = as.factor(happy$HEALTH)
happy$DEGREE = as.factor(happy$DEGREE)
happy$SEX = as.factor(happy$SEX)
happy$FINRELA = as.factor(happy$FINRELA)
happy$PARTYID = as.factor(happy$PARTYID)
happy = happy %>% mutate(DEGREE = factor(DEGREE, levels = c("LT HIGH SCHOOL","HIGH SCHOOL", "JUNIOR COLLEGE", "GRADUATE",
"BACHELOR"))) %>%
mutate(FINRELA = factor(FINRELA, levels = c("FAR BELOW AVERAGE", "BELOW AVERAGE", "AVERAGE", "ABOVE AVERAGE",
"FAR ABOVE AVERAGE"))) %>%
mutate(HEALTH= factor(HEALTH, levels = c("POOR", "FAIR", "EXCELLENT", "GOOD")))
View(happy)
happy <- happy %>% mutate(
AGE = replace(AGE, AGE == "89 AND OLDER", 89),
AGE = as.numeric(AGE)
)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(classdata)
library(ggplot2)
happy <- readRDS("data/happy.rds")
happy[happy == "IAP"] <- NA
happy[happy == "DK"] <- NA
happy[happy == "NA"] <- NA
#another way to do it -> happy = replace(happy, happy == "IAP", NA) {do for each one}
happy <- happy %>% mutate(
AGE = replace(AGE, AGE == "89 AND OLDER", 89),
AGE = as.numeric(AGE)
)
happy$HAPPY = as.factor(happy$HAPPY)
happy$MARITAL = as.factor(happy$MARITAL)
happy$HEALTH = as.factor(happy$HEALTH)
happy$DEGREE = as.factor(happy$DEGREE)
happy$SEX = as.factor(happy$SEX)
happy$FINRELA = as.factor(happy$FINRELA)
happy$PARTYID = as.factor(happy$PARTYID)
happy = happy %>% mutate(DEGREE = factor(DEGREE, levels = c("LT HIGH SCHOOL","HIGH SCHOOL", "JUNIOR COLLEGE", "GRADUATE",
"BACHELOR"))) %>%
mutate(FINRELA = factor(FINRELA, levels = c("FAR BELOW AVERAGE", "BELOW AVERAGE", "AVERAGE", "ABOVE AVERAGE",
"FAR ABOVE AVERAGE"))) %>%
mutate(HEALTH= factor(HEALTH, levels = c("POOR", "FAIR", "EXCELLENT", "GOOD")))
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(classdata)
library(ggplot2)
happy <- readRDS("data/happy.rds")
happy[happy == "IAP"] <- NA
happy[happy == "DK"] <- NA
happy[happy == "NA"] <- NA
#another way to do it -> happy = replace(happy, happy == "IAP", NA) {do for each one}
str(happy)
happy$AGE[happy$AGE == "89 OR OLDER"] <- "89"
happy$AGE = as.numeric(happy$AGE)
happy %>% ggplot(aes(x= AGE)) + geom_histogram(binwidth=1)
happy$HAPPY = as.factor(happy$HAPPY)
happy$MARITAL = as.factor(happy$MARITAL)
happy$HEALTH = as.factor(happy$HEALTH)
happy$DEGREE = as.factor(happy$DEGREE)
happy$SEX = as.factor(happy$SEX)
happy$FINRELA = as.factor(happy$FINRELA)
happy$PARTYID = as.factor(happy$PARTYID)
happy = happy %>% mutate(DEGREE = factor(DEGREE, levels = c("LT HIGH SCHOOL","HIGH SCHOOL", "JUNIOR COLLEGE", "GRADUATE",
"BACHELOR"))) %>%
mutate(FINRELA = factor(FINRELA, levels = c("FAR BELOW AVERAGE", "BELOW AVERAGE", "AVERAGE", "ABOVE AVERAGE",
"FAR ABOVE AVERAGE"))) %>%
mutate(HEALTH= factor(HEALTH, levels = c("POOR", "FAIR", "EXCELLENT", "GOOD")))
View(happy)
View(happy)
happy <- readRDS("data/happy.rds")
View(happy)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(classdata)
library(ggplot2)
happy <- readRDS("data/happy.rds")
happy[happy == "IAP"] <- NA
happy[happy == "DK"] <- NA
happy[happy == "NA"] <- NA
#another way to do it -> happy = replace(happy, happy == "IAP", NA) {do for each one}
str(happy)
happy$AGE[happy$AGE == "89 OR OLDER"] <- "89"
happy$AGE = as.numeric(happy$AGE)
happy %>% ggplot(aes(x= AGE)) + geom_histogram(binwidth=1)
happy$HAPPY = as.factor(happy$HAPPY)
happy$MARITAL = as.factor(happy$MARITAL)
happy$HEALTH = as.factor(happy$HEALTH)
happy$DEGREE = as.factor(happy$DEGREE)
happy$SEX = as.factor(happy$SEX)
happy$FINRELA = as.factor(happy$FINRELA)
happy$PARTYID = as.factor(happy$PARTYID)
happy = happy %>% mutate(DEGREE = factor(DEGREE, levels = c("LT HIGH SCHOOL","HIGH SCHOOL", "JUNIOR COLLEGE", "GRADUATE",
"BACHELOR"))) %>%
mutate(FINRELA = factor(FINRELA, levels = c("FAR BELOW AVERAGE", "BELOW AVERAGE", "AVERAGE", "ABOVE AVERAGE",
"FAR ABOVE AVERAGE"))) %>%
mutate(HEALTH= factor(HEALTH, levels = c("POOR", "FAIR", "EXCELLENT", "GOOD")))
View(happy)
```{r}
library(classdata)
data("happy", package="classdata")
head(happy)
str(happy)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(classdata)
library(ggplot2)
happy <- readRDS("data/happy.rds")
happy[happy == "IAP"] <- NA
happy[happy == "DK"] <- NA
happy[happy == "NA"] <- NA
#another way to do it -> happy = replace(happy, happy == "IAP", NA) {do for each one}
str(happy)
happy$AGE[happy$AGE == "89 OR OLDER"] <- "89"
happy$AGE = as.numeric(happy$AGE)
happy$HAPPY = as.factor(happy$HAPPY)
happy$MARITAL = as.factor(happy$MARITAL)
happy$HEALTH = as.factor(happy$HEALTH)
happy$DEGREE = as.factor(happy$DEGREE)
happy$SEX = as.factor(happy$SEX)
happy$FINRELA = as.factor(happy$FINRELA)
happy$PARTYID = as.factor(happy$PARTYID)
happy = happy %>% mutate(DEGREE = factor(DEGREE, levels = c("LT HIGH SCHOOL","HIGH SCHOOL", "JUNIOR COLLEGE", "GRADUATE",
"BACHELOR"))) %>%
mutate(FINRELA = factor(FINRELA, levels = c("FAR BELOW AVERAGE", "BELOW AVERAGE", "AVERAGE", "ABOVE AVERAGE",
"FAR ABOVE AVERAGE"))) %>%
mutate(HEALTH= factor(HEALTH, levels = c("POOR", "FAIR", "EXCELLENT", "GOOD")))
library(classdata)
data("happy", package="classdata")
head(happy)
happy %>% summarise(
m.happy = mean(as.numeric(happy), na.rm=TRUE)
)
happy %>% group_by(sex) %>% summarise(
m.happy = mean(as.numeric(happy), na.rm=TRUE)
)
View(happy)
happy.age = happy %>% group_by(age) %>% summarise(m.age = mean())
happy.age = happy %>% group_by(age) %>% summarise(m.age = mean(happy), na.rm  = TRUE)
happy.age = happy %>% group_by(age) %>% summarise(m.age = mean(as.numeric(happy)), na.rm  = TRUE)
library(classdata)
data("happy", package="classdata")
head(happy)
happy %>% summarise(
m.happy = mean(as.numeric(happy), na.rm=TRUE)
)
happy %>% group_by(sex) %>% summarise(
m.happy = mean(as.numeric(happy), na.rm=TRUE)
)
happy %>% group_by(sex) %>% summarise(
m.happy = mean(as.numeric(happy), na.rm=TRUE)
)
```{r}
happy.age = happy %>% group_by(age) %>% summarise(m.age = mean(as.numeric(happy)), na.rm  = TRUE)
happy.age = happy %>% group_by(age = as.factor(age)) %>% summarise(m.age = mean(as.numeric(happy)), na.rm  = TRUE)
View(happy.age)
View(happy.age)
library(classdata)
data("happy", package="classdata")
head(happy)
library(classdata)
data("happy", package="classdata")
head(happy)
```{r}
Use scores for happy factor to summarise overall happiness level, i.e. not too happy = 1, pretty happy = 2, and very happy = 3
```{r}
happy %>% summarise(
m.happy = mean(as.numeric(happy), na.rm=TRUE)
)
happy %>% group_by(sex) %>% summarise(
m.happy = mean(as.numeric(happy), na.rm=TRUE)
)
happy %>% group_by(sex) %>% summarise(
m.happy = mean(as.numeric(happy), na.rm=TRUE)
)
```{r}
View(happy)
happy %>% summarise(
m.happy = mean(as.numeric(happy), na.rm=TRUE)
)
happy %>% group_by(sex) %>% summarise(
m.happy = mean(as.numeric(happy), na.rm=TRUE)
)
happy %>% group_by(sex) %>% summarise(
m.happy = mean(as.numeric(happy), na.rm=TRUE)
)
```{r}
happy.age = happy %>% group_by(age = as.factor(age)) %>% summarise(m.age = mean(as.numeric(happy)), na.rm  = TRUE)
View(happy.age)
happy.age = happy %>% mutate(age = as.factor(age)) %>%
group_by(age) %>%
summarise(m.age = mean(as.numeric(happy)), na.rm  = TRUE)
View(happy.age)
happy.age = happy %>%
group_by(age) %>%
summarise(m.age = mean(as.numeric(happy)), na.rm  = TRUE)
View(happy.age)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(classdata)
library(ggplot2)
happy <- readRDS("data/happy.rds")
happy[happy == "IAP"] <- NA
happy[happy == "DK"] <- NA
happy[happy == "NA"] <- NA
#another way to do it -> happy = replace(happy, happy == "IAP", NA) {do for each one}
str(happy)
happy$AGE[happy$AGE == "89 OR OLDER"] <- "89"
happy$AGE = as.numeric(happy$AGE)
happy$HAPPY = as.factor(happy$HAPPY)
happy$MARITAL = as.factor(happy$MARITAL)
happy$HEALTH = as.factor(happy$HEALTH)
happy$DEGREE = as.factor(happy$DEGREE)
happy$SEX = as.factor(happy$SEX)
happy$FINRELA = as.factor(happy$FINRELA)
happy$PARTYID = as.factor(happy$PARTYID)
happy = happy %>% mutate(DEGREE = factor(DEGREE, levels = c("LT HIGH SCHOOL","HIGH SCHOOL", "JUNIOR COLLEGE", "GRADUATE",
"BACHELOR"))) %>%
mutate(FINRELA = factor(FINRELA, levels = c("FAR BELOW AVERAGE", "BELOW AVERAGE", "AVERAGE", "ABOVE AVERAGE",
"FAR ABOVE AVERAGE"))) %>%
mutate(HEALTH= factor(HEALTH, levels = c("POOR", "FAIR", "EXCELLENT", "GOOD")))
library(classdata)
data("happy", package="classdata")
head(happy)
happy %>% summarise(
m.happy = mean(as.numeric(happy), na.rm=TRUE)
)
happy %>% group_by(sex) %>% summarise(
m.happy = mean(as.numeric(happy), na.rm=TRUE)
)
happy.age = happy %>%
group_by(age) %>%
summarise(m.age = mean(as.numeric(happy)), na.rm  = TRUE)
View(happy.age)
happy.age = happy %>%
group_by(age) %>%
summarise(m.age = mean(as.numeric(happy)), na.rm  = TRUE) %>%
ggplot(aes(x = age, y = m.age)) + geom_point()
View(happy)
happy.age = happy %>%
group_by(age) %>%
summarise(m.age = mean(as.numeric(happy)), na.rm  = TRUE) %>%
ggplot(aes(x = age, y = m.age)) + geom_point()
happy.age = happy %>%
group_by(age) %>%
summarise(m.age = mean(as.numeric(happy)), na.rm  = TRUE)
View(happy.age)
happy.age %>% ggplot(aes(x = age, y = m.age)) + geom_point()
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(classdata)
library(ggplot2)
happy <- readRDS("data/happy.rds")
happy[happy == "IAP"] <- NA
happy[happy == "DK"] <- NA
happy[happy == "NA"] <- NA
#another way to do it -> happy = replace(happy, happy == "IAP", NA) {do for each one}
str(happy)
happy$AGE[happy$AGE == "89 OR OLDER"] <- "89"
happy$AGE = as.numeric(happy$AGE)
happy$HAPPY = as.factor(happy$HAPPY)
happy$MARITAL = as.factor(happy$MARITAL)
happy$HEALTH = as.factor(happy$HEALTH)
happy$DEGREE = as.factor(happy$DEGREE)
happy$SEX = as.factor(happy$SEX)
happy$FINRELA = as.factor(happy$FINRELA)
happy$PARTYID = as.factor(happy$PARTYID)
happy = happy %>% mutate(DEGREE = factor(DEGREE, levels = c("LT HIGH SCHOOL","HIGH SCHOOL", "JUNIOR COLLEGE", "GRADUATE",
"BACHELOR"))) %>%
mutate(FINRELA = factor(FINRELA, levels = c("FAR BELOW AVERAGE", "BELOW AVERAGE", "AVERAGE", "ABOVE AVERAGE",
"FAR ABOVE AVERAGE"))) %>%
mutate(HEALTH= factor(HEALTH, levels = c("POOR", "FAIR", "EXCELLENT", "GOOD")))
library(classdata)
data("happy", package="classdata")
head(happy)
happy.age = happy %>%
group_by(age) %>%
summarise(m.age = mean(as.numeric(happy)), na.rm  = TRUE)
happy.age %>% ggplot(aes(x = age, y = m.age)) + geom_point()
View(happy.age)
library(classdata)
data("happy", package="classdata")
head(happy)
happy.age = happy %>%
group_by(age) %>%
summarise(m.age = mean(as.numeric(happy)), na.rm  = TRUE)
View(happy.age)
str(happy)
happy.age = happy %>%
group_by(age) %>%
summarise(m.age = mean(as.numeric(as.character(happy))), na.rm  = TRUE)
happy.age = happy %>%
group_by(age) %>%
summarise(m.age = mean(as.numeric(as.character(happy), na.rm = TRUE)), na.rm  = TRUE)
summarise(m.age = mean(as.numeric(happy), na.rm  = TRUE)
happy.age %>% ggplot(aes(x = age, y = m.age)) + geom_point()
group_by(age) %>%
happy.age %>% ggplot(aes(x = age, y = m.age)) + geom_point()
View(happy.age)
happy.age = happy %>%
group_by(age) %>%
summarise(m.age = mean(as.numeric(happy), na.rm  = TRUE))
happy.age %>% ggplot(aes(x = age, y = m.age)) + geom_point()
happy.party = happy %>%
group_by(partyid) %>%
summarise(m.partyid = mean(as.numeric(happy), na.rm  = TRUE))
happy.party %>%  ggplot(aes(x = partyid, y = m.partyid)) + geom_bar()
happy.party %>%  ggplot(aes(x = partyid)) + geom_bar(aes(weight = m.partyid))
View(happy.party)
View(happy)
happy.finrela = happy %>%
group_by(finrela) %>%
summarise(m.finrela = mean(as.numeric(happy), na.rm  = TRUE))
happy.finrela %>%  ggplot(aes(x = finrela)) + geom_bar(aes(weight = m.finrela))
happy.finrela %>%  ggplot(aes(x = finrela)) + geom_bar(aes(weight = m.finrela)) + facet_wrap(~sex)
happy.finrela %>%  ggplot(aes(x = finrela)) + geom_bar(aes(weight = m.finrela))
happy.finrela = happy %>%
group_by(finrela, sex) %>%
summarise(m.finrela = mean(as.numeric(happy), na.rm  = TRUE))
happy.finrela %>%  ggplot(aes(x = finrela)) + geom_bar(aes(weight = m.finrela))
happy.finrela %>%  ggplot(aes(x = finrela)) + geom_bar(aes(weight = m.finrela)) + facet_wrap(~sex)
happy.finrela %>%  ggplot(aes(x = finrela, fill = sex)) + geom_bar(aes(weight = m.finrela))
happy.finrela %>%  ggplot(aes(x = finrela, fill = sex)) + geom_bar(aes(weight = m.finrela), position = position_dodge2())
happy.health.age = happy %>%
group_by(health, age) %>%
summarise(m.health.age = mean(as.numeric(happy), na.rm  = TRUE))
happy.health.age %>%  ggplot(aes(x = age, fill = health)) + geom_bar(aes(weight = m.health.age), position = position_dodge2())
happy.health.age %>%  ggplot(aes(x = age)) + geom_bar(aes(weight = m.health.age), position = position_dodge2()) + facet_wrap(~health)
happy.health.age = happy %>%
group_by(health, age) %>%
summarise(m.happy = mean(as.numeric(happy), na.rm  = TRUE)) %>%
arrange(m.happy)
View(happy.health.age)
happy.health.age %>%  ggplot(aes(x = age)) +
geom_bar(aes(weight = m.happy), position = position_dodge2()) +
facet_wrap(~health)
happy.health.age %>%  ggplot(aes(x = health)) +
geom_bar(aes(weight = m.happy), position = position_dodge2()) +
facet_wrap(~age)
happy.health.age %>%  ggplot(aes(x = health)) +
geom_bar(aes(weight = m.happy), position = position_dodge2()) +
facet_wrap(~sex)
happy.health.age = happy %>%
group_by(health, sex) %>%
summarise(m.happy = mean(as.numeric(happy), na.rm  = TRUE)) %>%
arrange(m.happy)
happy.health.age %>%  ggplot(aes(x = health)) +
geom_bar(aes(weight = m.happy), position = position_dodge2()) +
facet_wrap(~sex)
happy.health.age %>%  ggplot(aes(x = health, fill = sex)) +
geom_bar(aes(weight = m.happy), position = position_dodge2())
happy.health.age %>%  ggplot(aes(x = health, fill = sex)) +
geom_bar(aes(weight = m.happy), position = position_dodge2()) +
labs(title = "", ylab = "Happiness")
happy.health.age %>%  ggplot(aes(x = health, fill = sex)) +
geom_bar(aes(weight = m.happy), position = position_dodge2()) +
labs(title = "", y = "Happiness")
happy.health.age %>%  ggplot(aes(x = health, fill = sex)) +
geom_bar(aes(weight = m.happy), position = position_dodge2()) +
labs(title = "", y = "Happiness", x = "Healt")
happy.health.age %>%  ggplot(aes(x = health, fill = sex)) +
geom_bar(aes(weight = m.happy), position = position_dodge2()) +
labs(title = "", y = "Happiness", x = "Health")
vignette("tidy-data", package="tidyr")
# Outline
head(tidy-data)
happy.degree.age = happy %>%
group_by(partyid, degree) %>%
summarise(m.happy = mean(as.numeric(happy), na.rm  = TRUE)) %>%
arrange(m.happy)
happy.degree.age %>%  ggplot(aes(x = partyid, fill = degree)) +
geom_bar(aes(weight = m.happy), position = position_dodge2()) +
labs(title = "", y = "Happiness", x = "Degree")
happy.degree.age = happy %>%
group_by(partyid, degree) %>%
summarise(m.happy = mean(as.numeric(happy), na.rm  = TRUE)) %>%
arrange(m.happy)
happy.degree.age %>%  ggplot(aes(x = partyid, fill = degree)) +
geom_bar(aes(weight = m.happy), position = position_dodge2()) +
labs(title = "", y = "Happiness", x = "Degree") +
coord_flip()
